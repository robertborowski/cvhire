{% extends "navbar/interior.html" %}

{% block title %}
  <title>Dashboard | CVhire</title>
  <meta name="description" content="CVhire">
  <meta name="og:description" content="CVhire">
{% endblock %}

{% block contentBodyExceptNavbarAndFooter %}
<form method="POST" enctype="multipart/form-data" onsubmit="return clickSubmitButtonOnce()">
  {% if page_dict_html['nav_header'] == true %}
    <div class="custom-width-interior-1100 mx-auto custom-plr-50">
      <!-- ------------------------------------- title start ------------------------------------- -->
      <div class="custom-pt-25 custom-display-flex custom-jc-between custom-mb-10">
        <h2 class="custom-header-30 custom-weight-900 custom-m-0">{{ page_dict_html['dashboard_name'] }}</h2>
        {% if page_dict_html['view_reason'] == 'one-role-many-cvs' or page_dict_html['view_reason'] == 'one-cv-many-roles' %}
          <button type="submit" class="btn btn-success custom-br-10" id="id_submit_button" disabled>Screen CV</button>
        {% endif %}
      </div>
      <!-- ------------------------------------- title end ------------------------------------- -->
      <!-- ------------------------------------- options start ------------------------------------- -->
      <div class="custom-header-15 custom-ptb-10 border-bottom">
          <ul class="custom-m-0 custom-p-0 custom-display-flex custom-no-decoration custom-jc-start">
            {% for k,v in page_dict_html['dashboard_section_links_dict'].items() %}
              {% if v in page_dict_html['navbar_link_current'] %}
                <li><a href="{{ v }}" class="custom-mr-30 custom-plr-15 custom-br-50 custom-a-black-none custom-ptb-5 custom-bg-primary">{{ k }}</a></li>
              {% else %}
                <li><a href="{{ v }}" class="custom-mr-30 custom-plr-15 custom-br-50 custom-a-black-none custom-ptb-5 custom-bg-hover-1">{{ k }}</a></li>
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      </div>
      <!-- ------------------------------------- options end ------------------------------------- -->
    </div>
  {% endif %}
  <!-- ------------------------------------- different dashboard subpages start ------------------------------------- -->
  {% block contentBodyDashboard %}
  {% endblock %}
  <!-- ------------------------------------- different dashboard subpages end ------------------------------------- -->
  <!-- ------------------------------------- width change start ------------------------------------- -->
  {% if page_dict_html['view_reason'] == 'one-role-many-cvs' or page_dict_html['view_reason'] == 'one-cv-many-roles' %}
    <div class="custom-width-interior-1100 mx-auto custom-plr-50">
      <div class="custom-header-15 custom-mt-25 custom-display-flex">
        <!-- ------------------------------------- left start ------------------------------------- -->
        <div class="custom-display-block custom-width-100">
          <!-- ------------------------------------- subtitle start ------------------------------------- -->
          {% if 'one-role-many-cvs' in page_dict_html['navbar_link_current'] %}
            <p class="custom-m-0 custom-header-20 custom-mb-10">Select one role</p>
          {% elif 'one-cv-many-roles' in page_dict_html['navbar_link_current'] %}
            <p class="custom-m-0 custom-header-20 custom-mb-10">Select many roles</p>
          {% endif %}
          <!-- ------------------------------------- subtitle end ------------------------------------- -->
          <!-- ------------------------------------- no content start ------------------------------------- -->
          {% if page_dict_html['content_total_rows_roles'] == 0 %}
            <div class="custom-width-100 custom-bg-grey-1 custom-p-50 custom-br-10 text-center border shadow-sm">
              <a href="/roles/add" class="custom-opacity-60 custom-a-black-underline"><i class="fa-solid fa-plus"></i> Add your first open role</a>
            </div>
          <!-- ------------------------------------- no content end ------------------------------------- -->
          <!-- ------------------------------------- yes content start ------------------------------------- -->
          {% else %}
            <!-- ------------------------------------- search bar start ------------------------------------- -->
            <input type="text" class="form-control" id="ui_search_bar" name="ui_search_bar" placeholder="Search (x{{ page_dict_html['content_total_rows_roles'] }})">
            <!-- ------------------------------------- search bar end ------------------------------------- -->
            <!-- ------------------------------------- radio start ------------------------------------- -->
            {% if 'one-role-many-cvs' in page_dict_html['navbar_link_current'] %}
              <div class="custom-mt-25">
                {% for i in page_dict_html['content_total_rows_arr_of_dicts_roles'] %}
                  <div class="custom-display-block custom-width-100 uiSearchItem border-bottom">
                    <input type="radio" class="btn-check" name="radio-one-role" id="{{ i['roles_count_id'] }}" value="{{ i['id'] }}" autocomplete="off" required>
                    <label class="btn custom-ptb-25 custom-width-100 custom-tal" for="{{ i['roles_count_id'] }}">{{ i['name_display'] }}</label>
                  </div>
                {% endfor %}
              </div>
            <!-- ------------------------------------- radio end ------------------------------------- -->
            <!-- ------------------------------------- checkbox start ------------------------------------- -->
            {% elif 'one-cv-many-roles' in page_dict_html['navbar_link_current'] %}
            <div class="custom-mt-25">
              <div class="custom-display-block custom-width-100 uiSearchItem border-bottom">
                <input type="checkbox" class="btn-check" name="checkbox-many-roles" id="id_role_select_all" value="select_all_ids" autocomplete="off">
                <label class="btn custom-ptb-25 custom-width-100 custom-tal" for="id_role_select_all">Select all</label>
              </div>
              {% for i in page_dict_html['content_total_rows_arr_of_dicts_roles'] %}
                <div class="custom-display-block custom-width-100 uiSearchItem border-bottom">
                  <input type="checkbox" class="btn-check" name="checkbox-many-roles" id="{{ i['roles_count_id'] }}" value="{{ i['id'] }}" autocomplete="off">
                  <label class="btn custom-ptb-25 custom-width-100 custom-tal" for="{{ i['roles_count_id'] }}">{{ i['name_display'] }}</label>
                </div>
              {% endfor %}
            </div>
            {% endif %}
            <!-- ------------------------------------- checkbox end ------------------------------------- -->
          {% endif %}
          <!-- ------------------------------------- yes content end ------------------------------------- -->
        </div>
        <!-- ------------------------------------- left end ------------------------------------- -->
        <div class="custom-flex-gap-25"></div>
        <!-- ------------------------------------- right start ------------------------------------- -->
        <div class="custom-display-block custom-width-100">
          <!-- ------------------------------------- subtitle start ------------------------------------- -->
          {% if 'one-role-many-cvs' in page_dict_html['navbar_link_current'] %}
            <p class="custom-m-0 custom-header-20 custom-mb-10">Select many CVs</p>
          {% elif 'one-cv-many-roles' in page_dict_html['navbar_link_current'] %}
            <p class="custom-m-0 custom-header-20 custom-mb-10">Select one CV</p>
          {% endif %}
          <!-- ------------------------------------- subtitle end ------------------------------------- -->
          <!-- ------------------------------------- no content start ------------------------------------- -->
          {% if page_dict_html['content_total_rows_cv'] == 0 %}
            <div class="custom-width-100 custom-bg-grey-1 custom-p-50 custom-br-10 text-center border shadow-sm">
              <a href="/cv/add" class="custom-opacity-60 custom-a-black-underline"><i class="fa-solid fa-plus"></i> Add candidate CVs</a>
            </div>
          <!-- ------------------------------------- no content end ------------------------------------- -->
          <!-- ------------------------------------- yes content start ------------------------------------- -->
          {% else %}
            <!-- ------------------------------------- search bar start ------------------------------------- -->
            <input type="text" class="form-control" id="ui_search_bar_v2" name="ui_search_bar_v2" placeholder="Search (x{{ page_dict_html['content_total_rows_cv'] }})">
            <!-- ------------------------------------- search bar end ------------------------------------- -->
            <!-- ------------------------------------- checkbox start ------------------------------------- -->
            {% if 'one-role-many-cvs' in page_dict_html['navbar_link_current'] %}
              <div class="custom-mt-25">
                <div class="custom-display-block custom-width-100 uiSearchItem_v2 border-bottom">
                  <input type="checkbox" class="btn-check" name="checkbox-many-cvs" id="id_cv_select_all" value="select_all_ids" autocomplete="off">
                  <label class="btn custom-ptb-25 custom-width-100 custom-tal" for="id_cv_select_all">Select all</label>
                </div>
                {% for i in page_dict_html['content_total_rows_arr_of_dicts_cv'] %}
                  <div class="custom-display-block custom-width-100 uiSearchItem_v2 border-bottom">
                    <input type="checkbox" class="btn-check" name="checkbox-many-cvs" id="{{ i['cv_count_id'] }}" value="{{ i['id'] }}" autocomplete="off">
                    <label class="btn custom-ptb-25 custom-width-100 custom-tal" for="{{ i['cv_count_id'] }}">
                      <div>
                        <p class="custom-m-0">{{ i['candidate_name'] }}</p>
                        <p class="custom-m-0">{{ i['candidate_email'] }}</p>
                        <p class="custom-m-0">{{ i['candidate_phone'] }}</p>
                      </div>
                    </label>
                  </div>
                {% endfor %}
              </div>
            <!-- ------------------------------------- checkbox end ------------------------------------- -->
            <!-- ------------------------------------- radio start ------------------------------------- -->
            {% elif 'one-cv-many-roles' in page_dict_html['navbar_link_current'] %}
              <div class="custom-mt-25">
                {% for i in page_dict_html['content_total_rows_arr_of_dicts_cv'] %}
                  <div class="custom-display-block custom-width-100 uiSearchItem_v2 border-bottom">
                    <input type="radio" class="btn-check" name="radio-one-cv" id="{{ i['cv_count_id'] }}" value="{{ i['id'] }}" autocomplete="off" required>
                    <label class="btn custom-ptb-25 custom-width-100 custom-tal" for="{{ i['cv_count_id'] }}">
                      <div>
                        <p class="custom-m-0">{{ i['candidate_name'] }}</p>
                        <p class="custom-m-0">{{ i['candidate_email'] }}</p>
                        <p class="custom-m-0">{{ i['candidate_phone'] }}</p>
                      </div>
                    </label>
                  </div>
                {% endfor %}
              </div>
            {% endif %}
            <!-- ------------------------------------- radio end ------------------------------------- -->
          {% endif %}
        </div>
        <!-- ------------------------------------- right end ------------------------------------- -->
      </div>
    </div>
  <!-- ------------------------------------- width change end ------------------------------------- -->
  <!-- ------------------------------------- width change start ------------------------------------- -->
  {% else %}
    <div class="custom-width-600 mx-auto">
      <div class="custom-header-15 custom-mt-25">
        <!-- ------------------------------------- no content start ------------------------------------- -->
        {% if page_dict_html['content_total_rows'] == 0 %}
          {% if page_dict_html['view_reason'] == 'export' %}
            {% if page_dict_html['url_status_code'] == 'export_results' %}
              <div class="custom-bg-grey-1 custom-p-50 custom-br-10 text-center border shadow">
                <a href="/ai/one-role-many-cvs" class="custom-opacity-60 custom-a-black-underline"><i class="fa-solid fa-plus"></i> Screen CVs</a>
              </div>
            {% endif %}
          {% endif %}
        <!-- ------------------------------------- no content end ------------------------------------- -->
        <!-- ------------------------------------- yes content start ------------------------------------- -->
        {% else %}
          <!-- ------------------------------------- content start ------------------------------------- -->
          {% if page_dict_html['view_reason'] == 'export' %}
            <form method="POST" enctype="multipart/form-data" onsubmit="return clickSubmitButtonOnce()">
              <div class="custom-mt-50 border custom-p-50 custom-br-15 shadow">
                <!-- ------------------------------------- title and subtitle start ------------------------------------- -->
                <h1 class="custom-header-30"><img src="https://cvhirepublicobjects.s3.us-east-2.amazonaws.com/logo_v2_green.png" alt="" class="custom-img-height-35"> CVhire <span class="custom-header-20">| Simple export</span></h1>
                <div class="custom-mtb-25 custom-opacity-50">
                  <p class="custom-m-0 custom-mb-5 custom-header-15"><i class="fa-regular fa-envelope"></i> {{ page_dict_html['current_user_email'] }}</p>
                  <p class="custom-m-0 custom-header-12">Please check your spam folder as well.</p>
                </div>
                <!-- ------------------------------------- title and subtitle end ------------------------------------- -->
                <!-- ------------------------------------- submit start ------------------------------------- -->
                <button type="submit" class="btn btn-primary btn-lg custom-br-10 custom-width-100">Export</button>
                <!-- ------------------------------------- submit end ------------------------------------- -->
                <div class="text-center custom-mt-15">
                  <a href="/ai/one-role-many-cvs" class="custom-a-black-underline custom-opacity-50">Home</a>
                </div>
              </div>
            </form>
          <!-- ------------------------------------- content end ------------------------------------- -->
          <!-- ------------------------------------- content start ------------------------------------- -->
          {% elif page_dict_html['view_reason'] == 'help' %}
            <form method="POST" enctype="multipart/form-data" onsubmit="return clickSubmitButtonOnce()">
              <div class="custom-mt-50 border custom-p-50 custom-br-15 shadow">
                <!-- ------------------------------------- title and subtitle start ------------------------------------- -->
                <h1 class="custom-header-30"><img src="https://cvhirepublicobjects.s3.us-east-2.amazonaws.com/logo_v2_green.png" alt="" class="custom-img-height-35"> CVhire <span class="custom-header-20">| Help center</span></h1>
                <div class="custom-mtb-25 custom-opacity-50">
                  <a href="mailto:support@cvhire.com" class="custom-header-15 custom-a-black-underline">Support@CVhire.com</a>
                </div>
                <!-- ------------------------------------- title and subtitle end ------------------------------------- -->
                <!-- ------------------------------------- requirements start ------------------------------------- -->
                <div class="custom-pb-50">
                  <label for="uiFeedback" class="form-label">Ticket <i class="fa-solid fa-circle-info custom-opacity-50" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Less than 1,000 characters."></i></label>
                  <textarea class="form-control" id="uiFeedback" name="uiFeedback" rows="7" required></textarea>
                </div>
                <!-- ------------------------------------- requirements end ------------------------------------- -->
                <!-- ------------------------------------- submit start ------------------------------------- -->
                <button type="submit" class="btn btn-primary btn-lg custom-br-10 custom-width-100">Submit</button>
                <!-- ------------------------------------- submit end ------------------------------------- -->
                <div class="text-center custom-mt-15">
                  <a href="/ai/one-role-many-cvs" class="custom-a-black-underline custom-opacity-50">Home</a>
                </div>
              </div>
            </form>
          <!-- ------------------------------------- content end ------------------------------------- -->
          <!-- ------------------------------------- content start ------------------------------------- -->
          {% elif page_dict_html['view_reason'] == '' %}
          <!-- ------------------------------------- content end ------------------------------------- -->
          {% endif %}
        {% endif %}
        <!-- ------------------------------------- yes content end ------------------------------------- -->
      </div>
    </div>
  <!-- ------------------------------------- width change end ------------------------------------- -->
  {% endif %}
</form>
{% endblock %}