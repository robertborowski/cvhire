{% extends "polling/aaa_base/base2_interior.html" %}
<!-- head tag block content -->
{% block title %}
  <title>Dashboard - Triviafy</title>
{% endblock %}
{% block contentBodyExceptNavbarAndFooter %}
<!-- ----------------------------------- start ----------------------------------- -->
{% if page_dict_to_html['alert_message_dict']['message'] != '' %}
<div class="alert alert-{{ page_dict_to_html['alert_message_dict']['type'] }} mx-auto text-center container custom-mt-25 custom-width-800" role="alert">
  {{ page_dict_to_html['alert_message_dict']['message'] }}
</div>
{% endif %}
<!-- ----------------------------------- end ----------------------------------- -->
<!-- ------------------------------------- section start ------------------------------------- -->
{% if page_dict_to_html['shows_following_arr_of_dict'] == none %}
  <div class="container custom-width-800 custom-pt-50">
    <h2 class="text-center custom-mb-50">Welcome to Triviafy</h2>
    <div class="custom-br-25 custom-bg-white shadow-sm border custom-p-15">
      <div class="custom-p-25 text-center">
        <p class="custom-m-0 custom-pb-25 custom-header-20">Please add your favorite show's</p>
        <a href="/polling/show/add/1" class="custom-m-0 custom-width-100 btn btn-success btn-lg">Explore shows <i class="fa-solid fa-angle-right"></i></a>
      </div>
    </div>
  </div>
{% else %}
  <!-- ------------------------------------- section start ------------------------------------- -->
  <div class="container custom-width-800 custom-pt-50">
    <div class="custom-display-flex custom-jc-between">
      <h2>Your shows</h2>
      <div class="custom-ml-10 custom-mt-5">
        <a href="/polling/show/add/1" class="btn btn-primary btn-sm custom-mb-10-mobile">Add show <i class="fa-solid fa-plus"></i></a>
      </div>
    </div>
    <!-- ------------------------------------- search bar start ------------------------------------- -->
    <input type="text" class="form-control" id="ui_search_show_name" name="ui_search_show_name" placeholder="Search show name">
    <!-- ------------------------------------- search bar end ------------------------------------- -->
    {% for i_dict in page_dict_to_html['shows_following_arr_of_dict'] %}
      <div class="custom-br-25 custom-bg-white shadow-sm border custom-p-15 custom-mtb-25 uiSearchItem">
        <!-- ------------------------------------- show details start ------------------------------------- -->
        <div class="custom-display-flex custom-pb-10">
          <a href="/polling/show/{{ i_dict['id'] }}"><img src="{{ i_dict['platform_image_small'] }}" alt="show logo" class="custom-br-5 border shadow-sm"></a>
          <div class="custom-ml-5 custom-display-flex custom-f-direction-col">
            <a href="/polling/show/{{ i_dict['id'] }}" class="custom-a-2 custom-header-18">{{ i_dict['name'] }}</a>
            <a href="/polling/show/{{ i_dict['id'] }}" class="custom-a-2 custom-header-12 custom-opacity-50">{{ i_dict['description'] }}...</a>
          </div>
        </div>
        <!-- ------------------------------------- show details end ------------------------------------- -->
        <!-- ------------------------------------- polling details start ------------------------------------- -->
        <div>
          <a href="#" class="custom-a-2 custom-header-18 custom-display-block custom-p-10">Create poll for this community <i class="fa-solid fa-plus"></i></a>
          <a href="#" class="custom-a-2 custom-header-18 custom-display-block custom-p-10">Review responses & statistics <i class="fa-solid fa-angle-right"></i></a>
          <a href="/polling/show/{{ i_dict['id'] }}" class="custom-a-2 custom-header-12 custom-mt-10 custom-display-block">{{ i_dict['percent_total_polls_complete'] }}% total polls answered</a>
          <div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-secondary" id="id-progress_bar_{{ i_dict['show_count'] }}catch{{ i_dict['percent_total_polls_complete'] }}" style="width: 20%"></div>
          </div>
          {% if i_dict['user_completed_all_polls'] == true %}
          {% else %}
            <a href="/polling/show/{{ i_dict['id'] }}" class="btn btn-outline-success btn-lg custom-width-100 custom-mt-10">Continue polls <i class="fa-solid fa-angle-right"></i></a>
          {% endif %}
        </div>
        <!-- ------------------------------------- polling details end ------------------------------------- -->
      </div>
    {% endfor %}
  </div>
  <!-- ------------------------------------- section end ------------------------------------- -->
{% endif %}
<!-- ------------------------------------- section end ------------------------------------- -->
{% endblock %}